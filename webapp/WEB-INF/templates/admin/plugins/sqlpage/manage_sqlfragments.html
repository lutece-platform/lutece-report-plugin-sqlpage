<@rowBox>
    <@boxHeader i18nTitleKey="calendar.manage_calendars.tableLabel">
        <@headerButtons>
        <form class="form-horizontal" method="post" name="manage_sqlfragments" action="jsp/admin/plugins/sqlpage/ManageSQLFragments.jsp">
            <input type="hidden" name="id_page" value="${page.id}" />
            <!-- Add pull-right to class1 -->
            <@actionButtons button1Name="view_createSQLFragment" icon1="icon-plus icon-white" i18nValue1Key="sqlpage.manage_sqlfragments.buttonAdd" />
        </form>
        </@headerButtons>
        
    <h4>
        #i18n{sqlpage.manage_sqlfragments.tableLabel} 
        <span class="label label-default">${page.paramName}</span> - ${page.title}</h4>    
    </@boxHeader>
    <@boxBody>
    <@messages infos=infos />
    <@paginationAdmin paginator=paginator combo=1 />
    
    <@table>
        <tr>
            <input type="hidden" id="id" name="id"/>
            <th>#i18n{sqlpage.manage_sqlfragments.columnTitle}</th>
            <th>#i18n{sqlpage.manage_sqlfragments.columnSqlQuery}</th>
            <th>#i18n{sqlpage.manage_sqlfragments.columnPool}</th>
            <th>#i18n{sqlpage.manage_sqlfragments.columnRole}</th>
            <th>#i18n{portal.util.labelActions}</th>
        </tr>
        <@tableHeadBodySeparator />
            <#list sqlfragment_list as sqlfragment >
        <tr>
            <input type="hidden" id="id" name="id"/>
            <td>
                ${sqlfragment.title}
            </td>
            <td>
                ${sqlfragment.sqlQuery}
            </td>
            <td>
                ${sqlfragment.pool}
            </td>
            <td>
                <#if sqlfragment.role = "none" >
                   <span class="label label-success">#i18n{sqlpage.manage_sqlfragments.labelNoRestriction}</span>
                <#else>
                   <span class="label label-danger">${sqlfragment.role}</span>
                </#if>
            </td>
        <td>
            <a href="jsp/admin/plugins/sqlpage/ManageSQLFragments.jsp?view=modifySQLFragment&id=${sqlfragment.id}&id_page=${page.id}"
               class="btn btn-primary btn-small" title="#i18n{portal.util.labelModify}">
                <i class="fa fa-pencil"></i>
            </a>
            <a href="jsp/admin/plugins/sqlpage/ManageSQLFragments.jsp?action=moveUp&id=${sqlfragment.id}&id_page=${page.id}"
               class="btn btn-primary btn-small" title="#i18n{sqlpage.manage_sqlfragments.buttonUp}">
                <i class="fa fa-chevron-circle-up"></i>
            </a>
            <a href="jsp/admin/plugins/sqlpage/ManageSQLFragments.jsp?action=moveDown&id=${sqlfragment.id}&id_page=${page.id}"
               class="btn btn-primary btn-small" title="#i18n{sqlpage.manage_sqlfragments.buttonDown}">
                <i class="fa fa-chevron-circle-down"></i>
            </a>

            <a href="jsp/admin/plugins/sqlpage/ManageSQLFragments.jsp?action=confirmRemoveSQLFragment&id=${sqlfragment.id}&id_page=${page.id}"
               class="btn btn-danger btn-small" title="#i18n{portal.util.labelDelete}" >
                <i class="fa fa-trash"></i>
            </a>
        </td>
        </tr>
        </#list>
    </@table>

    <@paginationAdmin paginator=paginator />

    </@boxBody>
</@rowBox>
